<nav class="nav-bar-container" [class.scrolled]="isScrolled">
  
  <div class="top-header">
    
    <button class="mobile-toggle" (click)="toggleMenu()">
      <i class="bi" [ngClass]="isMenuOpen ? 'bi-x-lg' : 'bi-list'"></i>
    </button>

    <div class="logo" routerLink="/">
      <span class="logo-text">ED-V<span class="highlight">360</span></span>
    </div>

    <ul class="main-links d-none d-lg-flex">
      <!-- <li><a routerLink="/news" routerLinkActive="active">test</a></li>
      <li><a routerLink="/politics" routerLinkActive="active">test</a></li> -->
    </ul>

    <div class="actions">
      
      <ng-container *ngIf="!isLoggedIn">
        <a routerLink="/Login" class="btn-login">Login</a>
        <a routerLink="/Signup" class="btn-signup">Started</a>
      </ng-container>

      <div class="user-controls" *ngIf="isLoggedIn">
        
        <a [routerLink]="['/profile', currentUsername]" 
           class="profile-btn" 
           title="My Profile">
          <div class="avatar-circle">
            <i class="bi bi-person-fill"></i>
          </div>
          <span class="username d-none d-md-block">{{ currentUsername }}</span>
        </a>

        <div class="divider-vertical"></div>

        <button (click)="logout()" class="btn-logout" title="Logout">
          <i class="bi bi-box-arrow-right"></i>
        </button>
      </div>
    </div>
  </div>

  <div class="mobile-menu" [class.open]="isMenuOpen">
    <div class="mobile-content">
      <ul class="mobile-links">
        <li><a routerLink="/" (click)="toggleMenu()">HOME</a></li>
        <li><a routerLink="/about" (click)="toggleMenu()">About</a></li>
        <li><a routerLink="/our-tech" (click)="toggleMenu()">our-tech</a></li>
        <li><a routerLink="/Contact" (click)="toggleMenu()">Contact</a></li>
        
        <li *ngIf="isLoggedIn">
          <a [routerLink]="['/profile', currentUsername]" (click)="toggleMenu()" class="highlight-item">MY PROFILE</a>
        </li>

        <li *ngIf="canViewDashboard">
          <a routerLink="/admin/dashboard" (click)="toggleMenu()" class="dashboard-link">DASHBOARD</a>
        </li>

        <li class="mobile-auth" *ngIf="!isLoggedIn">
          <a routerLink="/Login" (click)="toggleMenu()" class="btn-mobile-login">Login</a>
          <a routerLink="/Signup" (click)="toggleMenu()" class="btn-mobile-signup">Sign Up</a>
        </li>
        
        <li *ngIf="isLoggedIn">
          <a (click)="logout()" class="logout-link">LOGOUT</a>
        </li>
      </ul>
    </div>
  </div>

  <div class="nav-divider"></div>
  <div class="date-bar">
    <span class="date-text">{{ currentDate | date:'EEEE, MMMM d, y' }}</span>
  </div>
  
  <div class="sub-links-bar d-none d-md-block">
    <ul class="sub-links">
      <li><a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Home</a></li>
      <li><a routerLink="/about" routerLinkActive="active">About Us</a></li>
        <li><a routerLink="/our-tech">our-tech</a></li>
        <li><a routerLink="/Contact" >Contact</a></li>
              
      <li *ngIf="canViewDashboard">
        <a routerLink="/admin/dashboard" routerLinkActive="active" class="highlight-link">
          <i class="bi bi-grid-fill me-1"></i> Dashboard
        </a>
      </li>
    </ul>
  </div>

</nav>